/*!
 * Creaton.js v2.4.1
 * (c) 2022-2023 | github.com/reacton-js
 * Released under the MIT License.
 */
"use strict";!function(){const a=/[A-Z]/g,s=new WeakMap,i=document.implementation.createHTMLDocument(),l={get(e,t){return e[t]?e[t].value:void 0},set(e,t,n){return e[t].value=n,!0}},c=Symbol();function d(e,t="querySelector"){return(!0===this?void 0:s.get(this).root)[t](e)}async function u(e,t){var n=Date.now(),{root:a,template:o,state:r}=s.get(this);return e&&Object.assign(r,e),await(!t.before||t.before.call(r)),o.innerHTML=await(t.render?t.render.call(r):""),new h(a,o.content||o,a),o.innerHTML="",await(!t.after||t.after.call(r)),Date.now()-n+" ms"}function h(t,n,a,o=0){if(a){if(!n)return!t.removeChild(t.childNodes[o]);if(n.nodeType!==a.nodeType||n.nodeName!==a.nodeName)t.replaceChild(n.cloneNode(!0),t.childNodes[o]);else if(n.nodeValue!==a.nodeValue)a.nodeValue=n.nodeValue;else if(n.childNodes.length){if(!new.target&&(n.attributes&&e(n.attributes,a),a.$light))return!0;for(let e=0;e<n.childNodes.length||e<a.childNodes.length;e++)h(new.target?t:t.childNodes[o],n.childNodes[e],a.childNodes[e],e)||e--}}else t.append(n.cloneNode(!0));return!0}function e(t,n,a=n.attributes){for(let e=0;e<t.length||e<a.length;e++)t[e]&&!a[t[e].name]?(n.setAttribute(t[e].name,t[e].value),e--):a[e]&&!t[a[e].name]?(n.removeAttribute(a[e].name),e--):a[t[e].name].value!==t[e].value&&(a[e].value=t[e].value)}function g(e,...t){if(new.target)return new DocumentFragment;e.dispatchEvent(new CustomEvent(...t))}const o=/:(\w+)/g,r=new WeakSet;function w(t,e,n=null){if(new.target){const a={};return new class extends DocumentFragment{addEventListener(...e){a[e[0]]=new RegExp(`^${e[0].replace(o,(e,t)=>`(?<${t}>\\w+)`)}/?$`),document.addEventListener.call(this,...e)}getEventRegs(){return a}}}r.has(t)||(r.add(t),window.addEventListener("popstate",e=>{f(t,location.href.replace(location.origin,""),e.state)})),e&&(e=e.replace(location.origin,""),history.pushState(n,"",e),f(t,e,n))}function f(e,t,n){var a=e.getEventRegs();for(const s in a){var o,r=a[s].exec(t);r&&((o=new CustomEvent(s)).url=new URL(location.href),o.params=r.groups,e.dispatchEvent(o,n))}}window.Creaton=(...e)=>e.forEach(e=>"function"!=typeof e||function(o){const r=(o.mode||"").toLowerCase();var e=(o.extends||"").toLowerCase(),t=o.name.replace(a,(e,t)=>(0<t?"-":"")+e.toLowerCase()),n=e?Object.getPrototypeOf(document.createElement(e)).constructor:HTMLElement;customElements.define(t,class extends n{constructor(){super();const e=r?this.attachShadow({mode:r}):this;let t;t=e===this?i.createElement(this.nodeName):document.createElement("template");const n=new Proxy(new o,{get:(e,t,n)=>t===c?this:t in e?Reflect.get(e,t,n):this[t]}),a=new Proxy(this.attributes,l);Object.defineProperties(this,{$state:{get(){if("closed"!==r)return n}},$props:{get(){if("closed"!==r)return a}},$host:{get(){if("closed"!==r)return e.host}},$light:{value:e===this||!1},$shadow:{value:this.shadowRoot},$event:{value:g},$route:{value:w}}),s.set(this,{root:e,template:t,state:n})}async connectedCallback(){await u.call(this,void 0,o),await(!o.connected||o.connected.call(s.get(this).state))}async disconnectedCallback(){await(!o.disconnected||o.disconnected.call(s.get(this).state))}async adoptedCallback(){await(!o.adopted||o.adopted.call(s.get(this).state))}async attributeChangedCallback(...e){await(!o.changed||o.changed.apply(s.get(this).state,e))}static get observedAttributes(){if(Array.isArray(o.attributes))return o.attributes}async $update(e){if("closed"!==r||this[c])return u.call(this[c]||this,e,o)}$(e){return d.call(this[c]||"closed"===r||this,e)}$$(e){return d.call(this[c]||"closed"===r||this,e,"querySelectorAll")}$tag(t,...n){let a="";for(let e=0;e<t.length;e++)a+=t[e],e<n.length&&(a+=Array.isArray(n[e])?n[e].join(""):n[e]);return a}},e?{extends:e}:null)}(e)),window.Creaton.event=g,window.Creaton.route=w}();